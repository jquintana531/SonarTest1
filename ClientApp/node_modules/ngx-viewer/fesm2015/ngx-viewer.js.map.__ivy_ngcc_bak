{"version":3,"file":"ngx-viewer.js","sources":["ng://ngx-viewer/lib/ngx-viewer.directive.ts","ng://ngx-viewer/lib/ngx-viewer.module.ts"],"sourcesContent":["import { Directive, ElementRef, NgModule, OnDestroy, AfterViewInit, Input, Output, EventEmitter } from '@angular/core';\nimport Viewer from 'viewerjs';\n\n@Directive({\n  selector: '[ngxViewer]'\n})\nexport class NgxViewerDirective implements AfterViewInit, OnDestroy {\n  @Input() viewerOptions: Viewer.Options = {};\n\n  @Output() viewerReady: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerShow: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerShown: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerHide: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerHidden: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerView: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerViewed: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerZoom: EventEmitter<Event> = new EventEmitter<Event>();\n  @Output() viewerZoomed: EventEmitter<Event> = new EventEmitter<Event>();\n\n  instance: Viewer;\n\n  private nativeElement: HTMLElement;\n\n  constructor(private elementRef: ElementRef) {\n    this.nativeElement = this.elementRef.nativeElement;\n  }\n\n  public ngAfterViewInit(): void {\n    this.initViewer();\n  }\n\n  private initViewer(): void {\n    if (this.instance) {\n      this.instance.destroy();\n    }\n\n    this.instance = new Viewer(this.nativeElement, {\n      // Transitions currently break the Viewer when running optimizations during ng build (i.e in prod mode)\n      // TODO: Find a fix for this so we don't have to force disable transitions\n      transition: false,\n      ...this.viewerOptions\n    });\n\n    this.nativeElement.addEventListener('ready', event => this.viewerReady.emit(event), false);\n    this.nativeElement.addEventListener('show', event => this.viewerShow.emit(event), false);\n    this.nativeElement.addEventListener('shown', event => this.viewerShown.emit(event), false);\n    this.nativeElement.addEventListener('hide', event => this.viewerHide.emit(event), false);\n    this.nativeElement.addEventListener('hidden', event => this.viewerHidden.emit(event), false);\n    this.nativeElement.addEventListener('view', event => this.viewerView.emit(event), false);\n    this.nativeElement.addEventListener('viewed', event => this.viewerViewed.emit(event), false);\n    this.nativeElement.addEventListener('zoom', event => this.viewerZoom.emit(event), false);\n    this.nativeElement.addEventListener('zoomed', event => this.viewerZoomed.emit(event), false);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.instance) {\n      this.instance.destroy();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxViewerDirective } from './ngx-viewer.directive';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [NgxViewerDirective],\n  exports: [NgxViewerDirective]\n})\nexport class NgxViewerModule { }\n"],"names":[],"mappings":"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"}